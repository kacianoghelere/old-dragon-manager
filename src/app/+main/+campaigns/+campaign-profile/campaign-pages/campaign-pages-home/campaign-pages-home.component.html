<nav class="nav nav-pills" *ngIf="campaign">
  <li class="nav-item">
    <a class="nav-link pointer" (click)="changeList('')"
        [ngClass]="{active: isActiveCategory('')}">
      Todas
    </a>
  </li>
  <li class="nav-item" *ngFor="let category of categories">
    <a class="nav-link pointer" (click)="changeList(category.flat_name)"
        [ngClass]="{active: isActiveCategory(category.flat_name)}">
      {{category.title}}
    </a>
  </li>
  <li class="nav-item" *ngIf="isCampaignOwner()">
    <a class="nav-link btn btn-secondary" [routerLink]="['new']">
      <i class="fa fa-plus"></i>
      <span class="d-sm-none d-md-inline">Nova p치gina</span>
    </a>
  </li>
</nav>

<section class="card-columns" *ngIf="isActiveCategory('')">
  <article class="card bg-light" *ngFor="let group of groups"
      [hidden]="!group.pages.length">
    <div class="card-header"><b>{{group.title}}</b></div>
    <ul class="list-group list-group-flush">
      <a class="list-group-item d-flex justify-content-between"
          *ngFor="let page of group.pages"
          [routerLink]="[page.flat_name]">
        <span>{{page.title}}</span>
        <span *ngIf="page.dm_only" title="Material do Mestre">
          <i class="ra ra-castle-flag"></i>
        </span>
      </a>
    </ul>
    <ul class="list-group list-group-flush" *ngIf="group.flat_name">
      <a class="list-group-item text-primary text-center"
          *ngIf="isCampaignOwner()"
          [routerLink]="['new']"
          [queryParams]="{category: group.flat_name}">
        <i class="fa fa-plus"></i> Criar nova p치gina
      </a>
    </ul>
  </article>
</section>

<section class="card-columns" *ngIf="!isActiveCategory('')">
  <campaign-page-card *ngFor="let page of filteredPages"
    [page]="page"></campaign-page-card>
  <article class="card" *ngIf="!filteredPages.length">
    <div class="card-body text-center">
      <p class="card-text" *ngIf="!isCampaignOwner()">
        Nenhuma p치gina encontrada
      </p>
      <a class="card-link" [routerLink]="['new']" *ngIf="isCampaignOwner()">
        <i class="fa fa-plus"></i>
        <span class="d-sm-none d-md-inline">Criar nova p치gina</span>
      </a>
    </div>
  </article>
</section>
