<form *ngIf="wikiPageForm" [formGroup]="wikiPageForm"
    (ngSubmit)="onSubmit(wikiPageForm)">
  <input type="hidden" formControlName="id">
  <section>
    <div class="form-group row">
      <label class="col-sm-2 col-form-label" for="wikiPageTitle">
        Título da Página
      </label>
      <div class="col-sm-10 col-md-6">
        <input class="form-control form-control-lg"
          type="text"
          id="wikiPageTitle"
          [ngClass]="getErrorClass('title')"
          formControlName="title">
        <div class="invalid-feedback">
          Informe um título válido para a página.
        </div>
      </div>
    </div>

    <div class="form-group row">
      <label class="col-sm-2 col-form-label" for="wikiPagePicture">
        Imagem de Capa
      </label>
      <div class="col-sm-10 col-md-6">
        <input class="form-control"
          type="url"
          id="wikiPagePicture"
          [ngClass]="getErrorClass('picture')"
          formControlName="picture">
      </div>
    </div>

    <div class="form-group row">
      <label class="col-sm-2 col-form-label" for="wikiPageBody">
        Texto
      </label>
      <div class="col-sm-10">
        <textarea class="form-control"
          id="wikiPageBody"
          rows="20"
          [ngClass]="getErrorClass('body')"
          formControlName="body"></textarea>
        <div class="invalid-feedback">
          Corpo do texto da página válido.
        </div>
      </div>
    </div>
  </section>

  <section>
    <div class="form-group row">
      <div class="ml-auto col-sm-10">
        <markdown-instructions></markdown-instructions>
      </div>
    </div>
  </section>

  <section>
    <div class="form-group row">
      <div class="ml-auto col-6">
        <button class="btn btn-primary" type="submit"
            [disabled]="wikiPageForm.invalid">
          <i class="fa fa-edit"></i> Salvar
        </button>
        <button class="btn btn-link pointer" type="button" (click)="goBack()">
          <i class="fa fa-remove"></i> Cancelar
        </button>
      </div>
      <div class="ml-auto col-2 text-right">
        <button class="btn btn-outline-danger pointer"
            type="button"
            *ngIf="campaignWikiPage.id"
            mwlConfirmationPopover
            title="Confirmação necessária"
            message="Deseja realmente deletar a página?"
            placement="left"
            confirmText="Excluir"
            cancelText="Cancelar"
            (confirm)="destroyPage()">
          <i class="fa fa-trash"></i> Excluir Página
        </button>
      </div>
    </div>
  </section>
</form>
